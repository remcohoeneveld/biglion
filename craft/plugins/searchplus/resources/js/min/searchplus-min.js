!function($){$.fn.searchplus=function(e){function t(e){$hits.html(v.render(e))}function a(e,t){var a="",n="type",i=e.getFacetByName(n),s={};i&&i&&(s={facet:n,title:FACETS_LABELS[n],values:e.getFacetValues(n,{sortBy:["isRefined:desc","count:desc"]}),disjunctive:-1!==$.inArray(n,d.disjunctiveFacets)},a+=b.render(s)),$facets.html(a)}function n(e){var t={nbHits:e.nbHits,nbHits_plural:1!==e.nbHits,processingTimeMS:e.processingTimeMS};$stats.html(y.render(t))}function i(e){if(e.nbHits>0)return void $main.removeClass("no-results");$main.addClass("no-results");var t=[],a,n;for(a in h.state.facetsRefinements)t.push({"class":"toggle-refine",facet:a,facet_value:h.state.facetsRefinements[a],label:FACETS_LABELS[a]+": ",label_value:h.state.facetsRefinements[a]});for(a in h.state.disjunctiveFacetsRefinements)for(n in h.state.disjunctiveFacetsRefinements[a])t.push({"class":"toggle-refine",facet:a,facet_value:h.state.disjunctiveFacetsRefinements[a][n],label:FACETS_LABELS[a]+": ",label_value:h.state.disjunctiveFacetsRefinements[a][n]});for(a in h.state.numericRefinements)for(n in h.state.numericRefinements[a])t.push({"class":"remove-numeric-refine",facet:a,facet_value:n,label:FACETS_LABELS[a]+" ",label_value:n+" "+h.state.numericRefinements[a][n]});$hits.html(P.render({query:e.query,filters:t}))}function s(e){var t=[];e.page>3&&(t.push({current:!1,number:1}),t.push({current:!1,number:"...",disabled:!0}));for(var a=e.page-3;a<e.page+3;++a)0>a||a>=e.nbPages||t.push({current:e.page===a,number:a+1});e.page+3<e.nbPages&&(t.push({current:!1,number:"...",disabled:!0}),t.push({current:!1,number:e.nbPages}));var n={pages:t,prev_page:e.page>0?e.page:!1,next_page:e.page+1<e.nbPages?e.page+2:!1};$pagination.html(F.render(n))}"undefined"==typeof e&&(e={});var r=$("undefined"!=typeof e.input?e.input:"#searchinput"),c=$("undefined"!=typeof e.form?e.form:"#searchform"),o=$("undefined"!=typeof e.resultsContainer?e.resultsContainer:"#results"),u=$("undefined"!=typeof e.paginationContainer?e.paginationContainer:"#pagination"),l="undefined"!=typeof e.applicationId?e.applicationId:c.attr("data-applicationId"),f="undefined"!=typeof e.searchApiKey?e.searchApiKey:c.attr("data-searchApiKey"),p="undefined"!=typeof e.index?e.index:c.attr("data-index"),d={hitsPerPage:"undefined"!=typeof e.hitsPerPage?e.hitsPerPage:25,maxValuesPerFacet:"undefined"!=typeof e.maxValuesPerFacet?e.maxValuesPerFacet:8},m="undefined"!=typeof e.searchOnLoad?e.searchOnLoad:!1,g=algoliasearch(l,f),h=algoliasearchHelper(g,p,d);$pagination=u,$hits=o,$searchInputIcon=$("#search-input-icon"),$main=$("main"),$sortBySelect=$("#sort-by-select"),$stats=$("#stats"),$facets=$("#facets");var v=Hogan.compile($("#hit-template").text()),y=Hogan.compile($("#stats-template").text()),b=Hogan.compile($("#facet-template").text()),F=Hogan.compile($("#pagination-template").text()),P=Hogan.compile($("#no-results-template").text());r.on("keyup",function(){var e=$(this).val();h.setQuery(e).search()}).focus(),h.on("result",function(e,r){t(e),n(e),s(e),a(e,r),i(e)}),1==m&&h.search(),$(document).on("click",".go-to-page",function(e){e.preventDefault(),console.log("paginate"),$("html, body").animate({scrollTop:0},"500","swing"),h.setCurrentPage(+$(this).data("page")-1).search()}),$(document).on("click",".remove-numeric-refine",function(e){e.preventDefault(),h.removeNumericRefinement($(this).data("facet"),$(this).data("value")).search()}),$(document).on("click",".clear-all",function(e){e.preventDefault(),r.val("").focus(),h.setQuery("").clearRefinements().search()}),$(document).on("click",".toggle-refine",function(e){e.preventDefault(),h.toggleRefine($(this).data("facet"),$(this).data("value")).search()})}}(jQuery);